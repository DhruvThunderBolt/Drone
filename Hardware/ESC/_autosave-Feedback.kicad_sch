(kicad_sch (version 20230121) (generator eeschema)

  (uuid 91d6b2d4-ab7e-4015-b99f-6e87cf1d309b)

  (paper "A4")

  (lib_symbols
    (symbol "Amplifier_Current:INA4180A1IPWR" (pin_names (offset 0.254)) (in_bom yes) (on_board yes)
      (property "Reference" "U" (at 20.32 10.16 0)
        (effects (font (size 1.524 1.524)))
      )
      (property "Value" "INA4180A1IPWR" (at 20.32 7.62 0)
        (effects (font (size 1.524 1.524)))
      )
      (property "Footprint" "PW14_TEX" (at 0 0 0)
        (effects (font (size 1.27 1.27) italic) hide)
      )
      (property "Datasheet" "INA4180A1IPWR" (at 0 0 0)
        (effects (font (size 1.27 1.27) italic) hide)
      )
      (property "ki_locked" "" (at 0 0 0)
        (effects (font (size 1.27 1.27)))
      )
      (property "ki_keywords" "INA4180A1IPWR" (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_fp_filters" "PW14_TEX PW14_TEX-M PW14_TEX-L" (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (symbol "INA4180A1IPWR_0_1"
        (polyline
          (pts
            (xy 7.62 -20.32)
            (xy 33.02 -20.32)
          )
          (stroke (width 0.127) (type default))
          (fill (type none))
        )
        (polyline
          (pts
            (xy 7.62 5.08)
            (xy 7.62 -20.32)
          )
          (stroke (width 0.127) (type default))
          (fill (type none))
        )
        (polyline
          (pts
            (xy 33.02 -20.32)
            (xy 33.02 5.08)
          )
          (stroke (width 0.127) (type default))
          (fill (type none))
        )
        (polyline
          (pts
            (xy 33.02 5.08)
            (xy 7.62 5.08)
          )
          (stroke (width 0.127) (type default))
          (fill (type none))
        )
        (pin output line (at 0 0 0) (length 7.62)
          (name "OUT1" (effects (font (size 1.27 1.27))))
          (number "1" (effects (font (size 1.27 1.27))))
        )
        (pin input line (at 40.64 -10.16 180) (length 7.62)
          (name "IN+3" (effects (font (size 1.27 1.27))))
          (number "10" (effects (font (size 1.27 1.27))))
        )
        (pin power_in line (at 40.64 -7.62 180) (length 7.62)
          (name "GND" (effects (font (size 1.27 1.27))))
          (number "11" (effects (font (size 1.27 1.27))))
        )
        (pin input line (at 40.64 -5.08 180) (length 7.62)
          (name "IN+4" (effects (font (size 1.27 1.27))))
          (number "12" (effects (font (size 1.27 1.27))))
        )
        (pin input line (at 40.64 -2.54 180) (length 7.62)
          (name "IN-4" (effects (font (size 1.27 1.27))))
          (number "13" (effects (font (size 1.27 1.27))))
        )
        (pin output line (at 40.64 0 180) (length 7.62)
          (name "OUT4" (effects (font (size 1.27 1.27))))
          (number "14" (effects (font (size 1.27 1.27))))
        )
        (pin input line (at 0 -2.54 0) (length 7.62)
          (name "IN-1" (effects (font (size 1.27 1.27))))
          (number "2" (effects (font (size 1.27 1.27))))
        )
        (pin input line (at 0 -5.08 0) (length 7.62)
          (name "IN+1" (effects (font (size 1.27 1.27))))
          (number "3" (effects (font (size 1.27 1.27))))
        )
        (pin power_in line (at 0 -7.62 0) (length 7.62)
          (name "VS" (effects (font (size 1.27 1.27))))
          (number "4" (effects (font (size 1.27 1.27))))
        )
        (pin input line (at 0 -10.16 0) (length 7.62)
          (name "IN+2" (effects (font (size 1.27 1.27))))
          (number "5" (effects (font (size 1.27 1.27))))
        )
        (pin input line (at 0 -12.7 0) (length 7.62)
          (name "IN-2" (effects (font (size 1.27 1.27))))
          (number "6" (effects (font (size 1.27 1.27))))
        )
        (pin output line (at 0 -15.24 0) (length 7.62)
          (name "OUT2" (effects (font (size 1.27 1.27))))
          (number "7" (effects (font (size 1.27 1.27))))
        )
        (pin output line (at 40.64 -15.24 180) (length 7.62)
          (name "OUT3" (effects (font (size 1.27 1.27))))
          (number "8" (effects (font (size 1.27 1.27))))
        )
        (pin input line (at 40.64 -12.7 180) (length 7.62)
          (name "IN-3" (effects (font (size 1.27 1.27))))
          (number "9" (effects (font (size 1.27 1.27))))
        )
      )
      (symbol "INA4180A1IPWR_1_1"
        (rectangle (start 7.62 5.08) (end 33.02 -20.32)
          (stroke (width 0) (type default))
          (fill (type background))
        )
      )
    )
    (symbol "Device:C" (pin_numbers hide) (pin_names (offset 0.254)) (in_bom yes) (on_board yes)
      (property "Reference" "C" (at 0.635 2.54 0)
        (effects (font (size 1.27 1.27)) (justify left))
      )
      (property "Value" "C" (at 0.635 -2.54 0)
        (effects (font (size 1.27 1.27)) (justify left))
      )
      (property "Footprint" "" (at 0.9652 -3.81 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "Datasheet" "~" (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_keywords" "cap capacitor" (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_description" "Unpolarized capacitor" (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_fp_filters" "C_*" (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (symbol "C_0_1"
        (polyline
          (pts
            (xy -2.032 -0.762)
            (xy 2.032 -0.762)
          )
          (stroke (width 0.508) (type default))
          (fill (type none))
        )
        (polyline
          (pts
            (xy -2.032 0.762)
            (xy 2.032 0.762)
          )
          (stroke (width 0.508) (type default))
          (fill (type none))
        )
      )
      (symbol "C_1_1"
        (pin passive line (at 0 3.81 270) (length 2.794)
          (name "~" (effects (font (size 1.27 1.27))))
          (number "1" (effects (font (size 1.27 1.27))))
        )
        (pin passive line (at 0 -3.81 90) (length 2.794)
          (name "~" (effects (font (size 1.27 1.27))))
          (number "2" (effects (font (size 1.27 1.27))))
        )
      )
    )
    (symbol "power:+3V3" (power) (pin_names (offset 0)) (in_bom yes) (on_board yes)
      (property "Reference" "#PWR" (at 0 -3.81 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "Value" "+3V3" (at 0 3.556 0)
        (effects (font (size 1.27 1.27)))
      )
      (property "Footprint" "" (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "Datasheet" "" (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_keywords" "global power" (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_description" "Power symbol creates a global label with name \"+3V3\"" (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (symbol "+3V3_0_1"
        (polyline
          (pts
            (xy -0.762 1.27)
            (xy 0 2.54)
          )
          (stroke (width 0) (type default))
          (fill (type none))
        )
        (polyline
          (pts
            (xy 0 0)
            (xy 0 2.54)
          )
          (stroke (width 0) (type default))
          (fill (type none))
        )
        (polyline
          (pts
            (xy 0 2.54)
            (xy 0.762 1.27)
          )
          (stroke (width 0) (type default))
          (fill (type none))
        )
      )
      (symbol "+3V3_1_1"
        (pin power_in line (at 0 0 90) (length 0) hide
          (name "+3V3" (effects (font (size 1.27 1.27))))
          (number "1" (effects (font (size 1.27 1.27))))
        )
      )
    )
    (symbol "power:GND" (power) (pin_names (offset 0)) (in_bom yes) (on_board yes)
      (property "Reference" "#PWR" (at 0 -6.35 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "Value" "GND" (at 0 -3.81 0)
        (effects (font (size 1.27 1.27)))
      )
      (property "Footprint" "" (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "Datasheet" "" (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_keywords" "global power" (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_description" "Power symbol creates a global label with name \"GND\" , ground" (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (symbol "GND_0_1"
        (polyline
          (pts
            (xy 0 0)
            (xy 0 -1.27)
            (xy 1.27 -1.27)
            (xy 0 -2.54)
            (xy -1.27 -1.27)
            (xy 0 -1.27)
          )
          (stroke (width 0) (type default))
          (fill (type none))
        )
      )
      (symbol "GND_1_1"
        (pin power_in line (at 0 0 270) (length 0) hide
          (name "GND" (effects (font (size 1.27 1.27))))
          (number "1" (effects (font (size 1.27 1.27))))
        )
      )
    )
  )

  (junction (at 96.52 109.22) (diameter 0) (color 0 0 0 0)
    (uuid 9e3c738d-ca25-4f7c-a7c1-0c4788e8c121)
  )

  (no_connect (at 148.59 106.68) (uuid 4a7e137f-2015-4e9a-963c-7fce0387975e))
  (no_connect (at 148.59 101.6) (uuid 4c0b02bf-5c39-4e80-b956-93ae54dc51e2))
  (no_connect (at 148.59 104.14) (uuid cffb758f-02cc-4f2c-adf6-adf6f30305b6))

  (wire (pts (xy 96.52 118.11) (xy 96.52 120.65))
    (stroke (width 0) (type default))
    (uuid 19d3d4bf-0f08-48ec-8e99-7a3b8c1d2b63)
  )
  (wire (pts (xy 96.52 109.22) (xy 96.52 110.49))
    (stroke (width 0) (type default))
    (uuid a49aac28-e312-42ca-a56d-d54c23f88a98)
  )
  (wire (pts (xy 157.48 109.22) (xy 148.59 109.22))
    (stroke (width 0) (type default))
    (uuid acdb78cd-aca6-412e-babd-03c7be465113)
  )
  (wire (pts (xy 157.48 119.38) (xy 157.48 109.22))
    (stroke (width 0) (type default))
    (uuid de13585e-43ad-422a-ab5b-8fdc5586ea3b)
  )
  (wire (pts (xy 96.52 99.06) (xy 96.52 109.22))
    (stroke (width 0) (type default))
    (uuid e86572be-77af-47a7-9b54-449079262fae)
  )
  (wire (pts (xy 96.52 109.22) (xy 107.95 109.22))
    (stroke (width 0) (type default))
    (uuid f0afb11d-ddf3-49c5-87b5-04ee93dc15e5)
  )

  (text "50V/V Amplification and ATmega8A ADCs \nhave 4mV resolution at 5V power"
    (at 110.49 130.81 0)
    (effects (font (size 1.27 1.27)) (justify left bottom))
    (uuid 55ca9d8d-2a3e-4bda-be3b-e952328d3513)
  )
  (text "Feedback\n" (at 69.85 77.47 0)
    (effects (font (size 1.27 1.27)) (justify left bottom))
    (uuid 89ed4c25-4fb7-4528-ba99-221a688e17be)
  )

  (hierarchical_label "SENS1" (shape output) (at 107.95 101.6 180) (fields_autoplaced)
    (effects (font (size 1.27 1.27)) (justify right))
    (uuid 006c251d-fea3-47fe-a95c-d7c9814cfadb)
  )
  (hierarchical_label "IN2-" (shape input) (at 107.95 114.3 180) (fields_autoplaced)
    (effects (font (size 1.27 1.27)) (justify right))
    (uuid 0da5b974-a740-42d0-8dd9-df667fc80903)
  )
  (hierarchical_label "IN3+" (shape input) (at 148.59 111.76 0) (fields_autoplaced)
    (effects (font (size 1.27 1.27)) (justify left))
    (uuid 23b3508a-94f1-405e-821b-b9e99a43abff)
  )
  (hierarchical_label "IN1+" (shape input) (at 107.95 106.68 180) (fields_autoplaced)
    (effects (font (size 1.27 1.27)) (justify right))
    (uuid 55051c28-1f3d-4eb2-9979-b19df886b101)
  )
  (hierarchical_label "IN2+" (shape input) (at 107.95 111.76 180) (fields_autoplaced)
    (effects (font (size 1.27 1.27)) (justify right))
    (uuid 6422d9a2-1b00-4d41-84ab-9bb69d284949)
  )
  (hierarchical_label "IN1-" (shape input) (at 107.95 104.14 180) (fields_autoplaced)
    (effects (font (size 1.27 1.27)) (justify right))
    (uuid 6d3a434a-e112-405f-af2c-4a94ff2466bd)
  )
  (hierarchical_label "SENS3" (shape output) (at 148.59 116.84 0) (fields_autoplaced)
    (effects (font (size 1.27 1.27)) (justify left))
    (uuid 8f6f1484-e4f1-42ad-9d50-6839a68ebcca)
  )
  (hierarchical_label "SENS2" (shape output) (at 107.95 116.84 180) (fields_autoplaced)
    (effects (font (size 1.27 1.27)) (justify right))
    (uuid a3832d3c-339e-4fd7-98bd-3c360393837c)
  )
  (hierarchical_label "IN3-" (shape input) (at 148.59 114.3 0) (fields_autoplaced)
    (effects (font (size 1.27 1.27)) (justify left))
    (uuid e2ce34f4-8cff-43e2-887d-36c72a31dead)
  )

  (symbol (lib_id "Device:C") (at 96.52 114.3 0) (unit 1)
    (in_bom yes) (on_board yes) (dnp no)
    (uuid 10280867-0a83-4285-a665-6cfe6603c8a9)
    (property "Reference" "C1" (at 88.9 113.03 0)
      (effects (font (size 1.27 1.27)) (justify left))
    )
    (property "Value" "0.1uF" (at 88.9 115.57 0)
      (effects (font (size 1.27 1.27)) (justify left))
    )
    (property "Footprint" "" (at 97.4852 118.11 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (property "Datasheet" "~" (at 96.52 114.3 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (pin "1" (uuid f6003f66-efe7-4934-bbaa-e802751d1266))
    (pin "2" (uuid ca5bf4d4-56dc-41cc-9e82-f42d16117511))
    (instances
      (project "BLDC_ESC"
        (path "/bd67e774-828f-47d6-928d-7f9ad42d6cab"
          (reference "C1") (unit 1)
        )
        (path "/bd67e774-828f-47d6-928d-7f9ad42d6cab/0516f017-22dd-41c1-8b63-1e1b6ba041f3"
          (reference "C1") (unit 1)
        )
      )
    )
  )

  (symbol (lib_id "power:GND") (at 96.52 120.65 0) (unit 1)
    (in_bom yes) (on_board yes) (dnp no) (fields_autoplaced)
    (uuid 32e4116b-ecf5-4d96-aa1d-9ce7fbbec2d2)
    (property "Reference" "#PWR05" (at 96.52 127 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (property "Value" "GND" (at 96.52 125.73 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (property "Footprint" "" (at 96.52 120.65 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (property "Datasheet" "" (at 96.52 120.65 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (pin "1" (uuid d6adf86e-7d38-4754-9171-0fd910904c62))
    (instances
      (project "BLDC_ESC"
        (path "/bd67e774-828f-47d6-928d-7f9ad42d6cab"
          (reference "#PWR05") (unit 1)
        )
        (path "/bd67e774-828f-47d6-928d-7f9ad42d6cab/0516f017-22dd-41c1-8b63-1e1b6ba041f3"
          (reference "#PWR04") (unit 1)
        )
      )
    )
  )

  (symbol (lib_id "power:GND") (at 157.48 119.38 0) (unit 1)
    (in_bom yes) (on_board yes) (dnp no) (fields_autoplaced)
    (uuid 6618c26c-55b8-4883-9d70-369f876eee62)
    (property "Reference" "#PWR03" (at 157.48 125.73 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (property "Value" "GND" (at 157.48 124.46 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (property "Footprint" "" (at 157.48 119.38 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (property "Datasheet" "" (at 157.48 119.38 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (pin "1" (uuid a4540d64-b84c-43ef-a80b-6bc8bd4a599e))
    (instances
      (project "BLDC_ESC"
        (path "/bd67e774-828f-47d6-928d-7f9ad42d6cab"
          (reference "#PWR03") (unit 1)
        )
        (path "/bd67e774-828f-47d6-928d-7f9ad42d6cab/0516f017-22dd-41c1-8b63-1e1b6ba041f3"
          (reference "#PWR05") (unit 1)
        )
      )
    )
  )

  (symbol (lib_id "Amplifier_Current:INA4180A1IPWR") (at 107.95 101.6 0) (unit 1)
    (in_bom yes) (on_board yes) (dnp no) (fields_autoplaced)
    (uuid 85e9ecff-c455-4563-8541-9a231b8a312b)
    (property "Reference" "U3" (at 128.27 91.44 0)
      (effects (font (size 1.524 1.524)))
    )
    (property "Value" "INA4180A2IPWR" (at 128.27 93.98 0)
      (effects (font (size 1.524 1.524)))
    )
    (property "Footprint" "PW14_TEX" (at 107.95 101.6 0)
      (effects (font (size 1.27 1.27) italic) hide)
    )
    (property "Datasheet" "INA4180A1IPWR" (at 107.95 101.6 0)
      (effects (font (size 1.27 1.27) italic) hide)
    )
    (pin "1" (uuid 81caa6e8-ec30-43e4-a927-ba40ddf937e9))
    (pin "10" (uuid 7e8d124a-3e54-4164-9984-bfc4a67c2ce9))
    (pin "11" (uuid a89ae4fe-8843-41ae-90ac-99620533028d))
    (pin "12" (uuid 59f82efd-7162-4fee-88de-34517aca590b))
    (pin "13" (uuid f44cbeef-997a-456a-ab2d-07a0a3568f53))
    (pin "14" (uuid ab830705-8101-4710-8567-27f8c359d028))
    (pin "2" (uuid c5b1f2b8-5371-4a14-8c7e-d2380748311b))
    (pin "3" (uuid 1fae2db1-0f18-4c6d-b37a-6fa795e4d34a))
    (pin "4" (uuid 053bfecb-456a-44a4-9821-2380a9ea97c7))
    (pin "5" (uuid 9dd1d2a7-08b9-448b-9416-f2e427ad8a46))
    (pin "6" (uuid ada223fb-fccf-4a9a-a0d2-3b103eb32633))
    (pin "7" (uuid c65ec45e-aeda-4552-9b2c-66c703aad5db))
    (pin "8" (uuid 2df37318-829d-4492-9d2e-e8392d6c8ebe))
    (pin "9" (uuid 301131be-5b89-491f-a1af-f48ef953f5cf))
    (instances
      (project "BLDC_ESC"
        (path "/bd67e774-828f-47d6-928d-7f9ad42d6cab"
          (reference "U3") (unit 1)
        )
        (path "/bd67e774-828f-47d6-928d-7f9ad42d6cab/0516f017-22dd-41c1-8b63-1e1b6ba041f3"
          (reference "U3") (unit 1)
        )
      )
    )
  )

  (symbol (lib_id "power:+3V3") (at 96.52 99.06 0) (unit 1)
    (in_bom yes) (on_board yes) (dnp no)
    (uuid c468b978-45ad-4a6e-a00e-9274084899bc)
    (property "Reference" "#PWR04" (at 96.52 102.87 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (property "Value" "+3V3" (at 96.52 93.98 0)
      (effects (font (size 1.27 1.27)))
    )
    (property "Footprint" "" (at 96.52 99.06 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (property "Datasheet" "" (at 96.52 99.06 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (pin "1" (uuid 1b4002e3-838c-47d5-991f-958102e70d70))
    (instances
      (project "BLDC_ESC"
        (path "/bd67e774-828f-47d6-928d-7f9ad42d6cab"
          (reference "#PWR04") (unit 1)
        )
        (path "/bd67e774-828f-47d6-928d-7f9ad42d6cab/0516f017-22dd-41c1-8b63-1e1b6ba041f3"
          (reference "#PWR03") (unit 1)
        )
      )
    )
  )
)
